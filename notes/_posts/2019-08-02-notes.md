---
layout: post
title: "2019-08-02"
date: 2019-08-02
tags: [node]
comments: true
share: true
---

> [2019-08-02]让Nodejs请求是绕开本地hosts文件(如mac/linunx下`/etc/hosts`) <br>

##### [2019-08-02]让Nodejs请求是绕开本地hosts文件(如mac/linunx下`/etc/hosts`)

from [nodejs-bypass-linux-hosts-file](https://stackoverflow.com/questions/44335176/nodejs-bypass-linux-hosts-file)

**注意**: 未在windows上进行测试

```bash
$ cat /etc/hosts
<snip>
127.0.0.1 google.com
$ ping google.com
PING google.com (127.0.0.1) 56(84) bytes of data.
```

```js
const dns = require('dns')

// This will use the hosts file.
dns.lookup('google.com', function (err, res) {
  console.log('This computer thinks Google is located at: ' + res)
})

dns.resolve4('google.com', function (err, res) {
  console.log('A real IP address of Google is: ' + res[0])
})
```
