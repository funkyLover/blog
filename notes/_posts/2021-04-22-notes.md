---
layout: post
title: "2021-04-22"
date: 2021-04-22
tags: [npm, ts]
comments: true
share: true
---

> [2021-06-09]ts `export * as <name>` 语法<br>
> [2021-06-04]npm包发布调试<br>
> [2021-04-22].npmignore忽略文件不起效<br>

##### [2021-06-09]ts `export * as <name>` 语法

解决方案请翻阅 https://github.com/TypeStrong/ts-loader/issues/1121

原因是 tsconfig 中的 compilerOptions.module 配置有问题

##### [2021-06-04]npm包发布调试

```bash
# 要发布的npm包下执行
npm pack

# 用于验证npm包的项目下, 安装npm pack命令生成的tgz
npm install /path/to/npm/package/tarball.tgz
```

##### [2021-04-22].npmignore忽略文件不起效

今天定位了一个很无聊的问题, 直接说结论

就是npmignore是不会处理以下文件名的

readme|copying|license|licence|notice|changes|changelog|history

![ignore](/images/2021-04/1.png)

加入你有一个使用 ts 开发的 npm 包, 在发布时需要编译生成对应的 js 文件并使用 npmignore 来忽略 .ts 文件

如果刚好, 你的文件名是 notice.ts, 那这个文件就不会被忽略, 实际的发布效果是, npm包中既有 notice.ts, 也有 notice.js

![ignore](/images/2021-04/2.png)

我查了下文档, 发现确实有说明, 部分文件是 *永远不会忽略* 的, 但文档和代码实现有差异, 大家留个心眼即可
