---
layout: post
title: "2019-05-10"
date: 2019-05-10
tags: [webpack]
comments: true
share: true
---

> [2019-05-10]webpack使用动态加载`import()`引入的ES6模块, 需要通过default属性才能获取到模块内容

##### [2019-05-10]webpack使用动态加载`import()`引入的ES6模块, 需要通过default属性才能获取到模块内容

```js
// m.js

export default function () {};


// webpack import()

import('./m').then(m => m()); // Uncaught (in promise) TypeError: m is not a function
import('./m').then(m => m.default).then(m => m()); // correct
```

这个其实是[proposal-dynamic-import规范](https://github.com/tc39/proposal-dynamic-import)定义的行为

简单来说`import('module')`代表的是`import * as module from 'module'`, 而非`import module from 'module'`

相关issue: [proposal-dynamic-import#21](https://github.com/tc39/proposal-dynamic-import/issues/21), [webpack#3829](https://github.com/webpack/webpack/issues/3829)
